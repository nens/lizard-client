<div class="dashboard-wrapper container-fluid" ng-controller="DashboardCtrl as dashboard">
  <div class="row">
    <h2 translate>Welcome <% user.firstName %> - <% dashboard.name %></h2>
  </div>
  <div class="row dashboard-row">
    <div class="col-md-4" ng-repeat="element in dashboard.dashboardelements | orderBy: dashboard_slot">
      <h5 class="widget-title" ng-if="element.element_type !== 'graph'">
        <% element.display_name  %></h5>

      <div ng-if="element.element_type === 'map'" class="dashboard-widget">
        <map></map>
      </div>


      <div
        ng-if="element.element_type === 'graph'"
        class="dashboard-widget">
        <h5 class="timeseries-header-container widget-title`">
           <i class="fa fa-clock-o"></i>
           <select class="timeseries"
                  ng-if="element.dashboardData.length > 1"
                  ng-model="element.selectedTimeseries"
                  ng-options="series.name for series in element.dashboardData | rmSingleDatumTimeseries">
           </select>
           <span class="card-title-text placeholder"
                 ng-if="element.dashboardData.length === 1">
                 <% element.selectedTimeseries.name %>
           </span>

        </h5>

        <graph
          line
          class="xyGraph"
          type="temporal"
          temporal="element.timestamp_bounds"
          data="element.selectedTimeseries.events"
          ylabel="element.selectedTimeseries.unit"
          xlabel=""
          dimensions="dashboard.dimensions"
          mouseLoc="false"
          keys="{x: 0, y: 1}"
          now="element.temporal_bounds.start">
        </graph>
      </div>

      <div
        class="dashboard-widget"
        ng-if="element.element_type === 'rain'">
        <graph
          bar-chart
          class="xyGraph"
          type="temporal"
          temporal="element.temporal_bounds"
          data="element.selectedTimeseries"
          ylabel="300000"
          yfilter="aggWinToYLabel"
          dimensions="dashboard.dimensions"
          mouseLoc="false"
          keys="{x: 0, y: 1}"
          now="element.temporal_bounds.start">
        </graph>


      </div>

    </div>
  </div>



</div>
