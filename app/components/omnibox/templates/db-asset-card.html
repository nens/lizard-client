<div>
  <div class="card active">

    <timeseries asset="asset" time-state="timeState"></timeseries>

    <cardheader asset="asset"></cardheader>

    <div class="card-content">

      <!-- crosssections are not draggable and a specific visualization. -->
      <div
        ng-if="asset.entity_name === 'leveecrosssection'"
        ng-click="toggleCrosssection(asset)"
        class="card-content-list clickable">
        <i class="fa fa-line-chart"></i>
        <span translate ng-class="{'text-primary bg-warning': asset.crosssection.active}">
          Levee cross section
        </span>
      </div>

      <div ng-if="asset.crosssection.active">
        <dl>
          <dt translate>Green line</dt>
          <dd translate>Elevation along crosssection (source: AHN2).</dd>
          <dt translate>Grey dots</dt>
          <dd translate>Measured hydraulic head at current time.</dd>
          <dt translate>Dashed line</dt>
          <dd translate>indicative interpolation of hydraulic head in the same aquifer.</dd>
        </dl>
      </div>

      <em ng-if="noTimeseries && asset.entity_name !== 'leveecrosssection'" translate>
        No timeseries available for this asset
      </em>

      <!-- use ng-show, so div is present and can be added to drag containers -->
      <div id="drag-container">
        <div ng-repeat="selection in state.selections | orderBy : 'type' : true"
             ng-init="metaData = getSelectionMetaData(selection)"
             ng-if="getSelectionMetaData(selection).match">
          <div data-uuid="<% selection.uuid %>"
               class="draggable-ts">
            <div
              ng-if="metaData.type === 'timeseries'"
              id="<% selection.timeseries %>"
              ng-click="toggleSelection(selection)"
              class="card-content-list clickable">
              <i class="fa" ng-class="{
                'fa-clock-o': metaData.value_type !== 'image',
                'fa-file-image-o': metaData.value_type === 'image'
              }"></i>
              <span
                title="<% metaData.location %>, <% metaData.name %>, <% metaData.parameter %>"
                ng-class="{'text-primary bg-warning': selection.active}">
                <% metaData.location %>,
                <% metaData.name %>,
                <% metaData.parameter %>
              </span>
            </div>
            <div
              ng-if="metaData.type === 'raster'"
              id="<% selection.raster %>"
              ng-click="toggleSelection(selection)"
              class="card-content-list clickable">
              <i class="fa fa-line-chart"></i>
              <span ng-class="{'text-primary bg-warning': selection.active}">
                <% metaData.quantity %>, (<% metaData.unit %>)
              </span>
            </div>
            <div class="circle pull-right"
                 ng-style="{'background-color': selection.color}"
                 ng-click="toggleColorPicker()">
            </div>
            <color-picker></color-picker>
          </div>
        </div>
      </div>

    </div>

  </div>

  <db-nested-asset asset="asset" time-state="timeState"></db-nested-asset>

</div>
