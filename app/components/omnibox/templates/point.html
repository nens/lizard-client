<div ng-controller="PointCtrl">

  <div class="card active"
      ng-if="box.content.waterchain">
    <cardattributes waterchain="box.content.waterchain" full-details="box.fullDetailCards.waterchain"></cardattributes>
  </div>

  <div class="card active"
       ng-if="box.content.waterchain && box.content.timeseries.layers.timeseries">
    <timeseries
      timeseries="box.content.timeseries.layers.timeseries"
      full-details="box.fullDetailCards.timeseries"
      time-state="omnibox.state.temporal">
    </timeseries>
  </div>

  <div class="card active"
       ng-if="box.content.waterchain.layers.waterchain_grid.data.filters">
    <nestedasset
      asset-list="box.content.waterchain.layers.waterchain_grid.data.filters"
      full-details="box.fullDetailCards.waterchain"
      attr="'filter'">
    </nestedasset>
  </div>

  <div class="card active"
       ng-if="box.content.waterchain.layers.waterchain_grid.data.pumps">
    <nestedasset
      asset-list="box.content.waterchain.layers.waterchain_grid.data.pumps"
      full-details="box.fullDetailCards.waterchain"
      attr="'pump'">
    </nestedasset>
  </div>

  <div ng-if="box.content.rain">
    <rain></rain>
  </div>

  <div ng-repeat="(slug, lg) in box.content"
       class="card active"
       ng-if="slug !== 'waterchain' && slug !== 'timeseries' && slug !== 'rain'">
    <defaultpoint lg="lg" state="omnibox.state" is-url="isUrl"></defaultpoint>
  </div>

</div>

