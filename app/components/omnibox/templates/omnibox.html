<div>

  <search></search>

  <div id="cards" class="pullDown cardbox">

    <search-results ng-if="omnibox.searchResults"></search-results>

    <div ng-if="omnibox.state.context === 'map'">

      <asset-cards
        asset="asset"
        long-format="omnibox.data.geometries.length + omnibox.data.assets.length < 2"
        time-state="omnibox.state.temporal"
        ng-repeat="asset in omnibox.data.assets track by $index"></asset-cards>

      <geometry-cards
        geom="geom"
        header="true"
        ng-repeat="geom in omnibox.data.geometries track by $index"
        time-state="omnibox.state.temporal">
      </geometry-cards>

    </div>

    <div
      ng-if="omnibox.state.context === 'dashboard'">

      <db-asset-card
        timeseries
        time-state="omnibox.state.temporal"
        asset="asset"
        ng-repeat="asset in omnibox.data.assets">
      </db-asset-card>

      <div class="card active">
        <db-geometry-cards
          time-state="state.temporal"
          geom="geom"
          header="true"
          ng-repeat="geom in omnibox.data.geometries">
        </db-geometry-cards>
      </div>

    </div>

    <scenarios ng-if="omnibox.state.context === 'scenarios'"></scenarios>

  </div>

</div>
